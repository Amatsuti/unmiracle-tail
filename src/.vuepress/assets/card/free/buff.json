[
  { "@method":"add",
    "args":{ "dice":0 },
    "code":[
      { "@call":[{"@arg":"buff"},"add"],
        "arguments": {
          "dice":{"@arg":"dice"},
          "player":{"@arg":"player"},
          "target":{"@arg":"target"},
          "target2":{"@arg":"target2"},
          "power": 1000
        }
      }
    ]
  },
  { "@method":"add-power",
    "call": "buff.1-add-power",
    "args":{ "opr":"layer-status.exp2" }
  },
  { "@method":"add-status",
    "args":{
      "target":null, "buff":null,
      "STR":0, "INT":0,
      "VIT":0, "MND":0,
      "DEX":0, "AGI":0
    },
    "code":[
      { "@call": "layer-status-set.set-static", 
        "arguments": {
          "to": {"@var":"param", "as":"layer-status-set"},
          "value": {
            "STR":{"@arg":"STR"}, "INT":{"@arg":"INT"},
            "VIT":{"@arg":"VIT"}, "MND":{"@arg":"MND"},
            "DEX":{"@arg":"DEX"}, "AGI":{"@arg":"AGI"}
          }
        }
      },
      { "@call": "layer-status-set.current",
        "arguments": {
          "to": {"@var":"power", "as":"number"},
          "key": "power",
          "unit": {"@arg":"buff"}
        }
      },
      { "@define":["power-ratio", "number", {"@calc":"power / 100 * @PowerRatio"}] },
      { "@call": "layer-status-set.push", 
        "arguments": {
          "to": {"@var":"param" },
          "index": 1,
          "method": "layer-status.exp2",
          "value": {
            "STR": {"@var":"power-ratio"},
            "INT": {"@var":"power-ratio"},
            "VIT": {"@var":"power-ratio"},
            "MND": {"@var":"power-ratio"},
            "DEX": {"@var":"power-ratio"},
            "AGI": {"@var":"power-ratio"}
          }
        }
      },
      { "@call": "layer-status-set.push", 
        "arguments": {
          "to": {"@var":"param"},
          "index": 9999,
          "method": "layer-status.floor",
          "value": {
            "STR":{"@arg":"STR"}, "INT":{"@arg":"INT"},
            "VIT":{"@arg":"VIT"}, "MND":{"@arg":"MND"},
            "DEX":{"@arg":"DEX"}, "AGI":{"@arg":"AGI"}
          }
        }
      },
      { "@call": "buff.add-status",
        "hook": [["layer-status-set.deploy",{"value":{"@arg":"param"}}]],
        "arguments":{
          "param":{"@var":"param"},

          "target": {"@arg":"target"},
          "buff": {"@arg":"buff"}
        }
      }
    ]
  }
]