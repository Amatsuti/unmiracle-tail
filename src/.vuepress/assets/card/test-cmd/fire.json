[
  { "@define": ["name", "string", "火炎魔法"]},
  { "@method":"init-battle",
    "call": "base-targeting-cmd.init",
    "args": {
      "command": { "@self":"class-path" }
    }
  },
  { "@method":"input",
    "call": "base-targeting-cmd.input",
    "hook": ["targeting.load-live-enemy", "character.count-skill-ai"]
  },
  { "@method":"targeting",
    "call": "base-targeting-cmd.targeting"
  },
  { "@method":"ai",
    "call": "base-targeting-cmd.ai",
    "hook": ["ai.change"],
    "args": { "command":{"@self":"class-path"} }
  },
  { "@method":"start-action",
    "call": "base-targeting-cmd.start-action",
    "args": {
      "Armor":2000, "Aria":1000
    }
  },
  { "@method":"action",
    "hook": ["character.base-action", "dice.throw"],
    "args": { "action":"火炎魔法" },
    "code": [
      { "@call":"free/attack.magical-attack",
        "arguments":{
          "player":{ "@arg":"player" },
          "target":{ "@arg":"target" },
          "dice":{"@arg":"dice" },
          "targetDice":3,

          "ADamage":3,
          "INTRatio":1.0,
          "accurate":1.0,

          "onHit": {"@code":[
            { "@call":"free/buff.add",
              "arguments":{
                "AGIRatio": 0,
                "DEXRatio": 0,
                "INTRatio": 25,
                "MNDRatio": 0,
                "STRRatio": 0,
                "VITRatio": 0,
                "dice": { "@arg":"dice" },
                "player": { "@arg":"player" },
                "target": { "@arg":"target" },
                "target2": { "@arg":"target" },
                "buff": "test-cmd/debuff-burning",
                "power": { "@calc":"@ratio * 1000" }
              }
            }
          ]}
        }
      }
    ]
  },
  { "@method":"end-action",
    "call": "base-targeting-cmd.end-action"
  }
]